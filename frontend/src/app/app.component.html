<div class="container">
  <h1>Gerenciador de Tarefas</h1>

  <!-- Formulário de Nova Tarefa / Edição -->
  <div class="task-form">
    <h3>{{ editingTask ? 'Editar Tarefa' : 'Nova Tarefa' }}</h3>
    <input [(ngModel)]="currentTitle" placeholder="Título" />
    <input [(ngModel)]="currentDescription" placeholder="Descrição" />

    <select [(ngModel)]="currentStatus">
      <option value="pendente">Pendente</option>
      <option value="em andamento">Em Andamento</option>
      <option value="concluída">Concluída</option>
    </select>

    <!-- *ngIf agora funciona graças ao CommonModule -->
    <button *ngIf="!editingTask" (click)="createTask()">Adicionar</button>
    <button *ngIf="editingTask" (click)="updateTask()">Salvar</button>
    <button *ngIf="editingTask" (click)="cancelEdit()">Cancelar</button>
  </div>

  <hr />

  <!-- Lista de Tarefas -->
  <div class="task-list">
    <!-- *ngFor agora funciona graças ao CommonModule -->
    <div *ngFor="let task of tasks" class="task-card">
      <h4>{{ task.title }}</h4>
      <p>{{ task.description }}</p>
      <span class="status">{{ task.status }}</span>
      <button (click)="editTask(task)">Editar</button>
      <button (click)="deleteTask(task.id)">Excluir</button>
    </div>
  </div>
</div>
